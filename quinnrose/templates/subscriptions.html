{% extends 'base.html' %}
{% load staticfiles %}

{% block page_specific_css %}
		<link href="{% static 'css/subscription_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block page_content %}
<div class="page-header">
	<h3>Subscriptions</h3>
</div>

<div class="container-fluid">
	<div class="container">
        <!-- Begin header -->
        <header class="jumbotron subscription-jumbotron">
            <h2>{{ headers.header }}</h2>
            <p>{{ headers.description }}</p>

			<div class="row sub-header">
			    <div class="col-xs-6 col-sm-6 col-md-6">
			        <a class="btn btn-primary" href="/subscribe/{{ subtype }}">Let's do it!</a>
			    </div>
			    <div class="col-xs-6 col-sm-6 col-md-6">
		            <a class="btn btn-default pull-right" href="/subscriptions/{{ othersubtype }}">{{ othersubtypelabel }}&nbsp;&nbsp;<span class="fa fa-caret-right"  aria-hidden="true"></span></a>
			    </div>
			</div>
        </header>
        <!-- End header -->

		<!-- Begin title -->
		<div class="row">
		    <div class="col-xs-6 col-sm-6 col-md-6 sub-header">
{#		        <h2>The packages...</h2>#}
		    </div>
		    <div class="col-xs-6 col-sm-6 col-md-6 sub-header">
		        <a class="btn btn-success pull-right" href="#" data-toggle="modal" data-target="#comparisonDetails">Compare</a>
		    </div>
		</div>
		<!-- End title -->
		
		<!-- Begin body content -->
		<div class="container">
			<div class="row text-center">
			
				{% for item in data %}
			    <div class="col-md-4 col-sm-6">
			        <div class="thumbnail">
			            <img src="{% static 'images' %}/{{ item.image }}" alt="">
			            <div class="caption">
			                <div class="panel-group">
				                <div class="panel-default">
					                <div class="panel-body subscriptions-level">
						                <h2>{{ item.level }}</h2>
					                </div>
						        </div>
				                <div class="panel-default">
					                <div class="panel-body">
					                	{{ item.description }}
					                </div>
						        </div>
				                <div class="panel-default">
					                <div class="panel-body">
					                	<span class="subscriptions-price-month">{{ item.price_per_month }}{% if item.price_per_month != 'Free' %} per month{% endif %}</span>
					                </div>
						        </div>
						        {% if item.price_per_month != 'Free' %}
				                <div class="panel-default">
					                <div class="panel-body">
					                	<span class="subscriptions-price-year">Special Savings:<br>{{ item.price_per_year }} per year</span>
					                </div>
						        </div>
						        {% endif %}
				                <div class="panel-default">
					                <div class="panel-body">
					                    <a href="/subscribe/{{ subtype }}" class="btn btn-primary">Subscribe</a>
					                    <a href="#" class="btn btn-default" data-toggle="modal" data-target="#details{{ forloop.counter }}">Details</a>
						            </div>
						        </div>
					        </div>
			            </div>
			        </div>
			    </div>
				{% endfor %}
			</div>
		</div>
		<!-- End body content -->
	</div>
</div>

<!-- Begin modal details -->
{% for item in data %}
<div class="modal fade" id="details{{ forloop.counter }}" tabindex="-1" role="dialog" aria-labelledby="details{{ forloop.counter }}" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header modal-header-primary">
            	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            	<h4 class="modal-title" id="myModalLabel">{{ item.level }} - subscription details</h4>
            </div>
		    <div class="modal-body">
				<ul class="list-group">
					{% for detail in item.details %}
					<li class="list-group-item list-bullet">{{ detail }}</li>
					{% endfor %}
				</ul>
			</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
{#                <button type="button" class="btn btn-primary">Save changes</button>#}
        </div>
    </div>
  </div>
</div>
{% endfor %}
<!-- End modal details -->

<!-- Start comparison table -->
<div class="modal fade" id="comparisonDetails" tabindex="-1" role="dialog" aria-labelledby="comparisonDetails" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
		    <div class="modal-body">



                    <div class="feature-modal">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th class="feature-desc"></th>
                                        {% for item in data %}
                                        <th class="feature-cell feature{{ forloop.counter }}">{{ item.level }}</th>
                                        {% endfor %}
                                    </tr>
                                </thead>
                                <tbody>
                                	{% for feature, level1, level2, level3 in features %}
                                    <tr>
                                        <td class="feature-desc">{{ feature }}</td>
                                        <td class="feature-cell"><span class="fa fa-{{ level1 }} font-red"></span></td>
                                        <td class="feature-cell"><span class="fa fa-{{ level2 }} font-blue"></span></td>
                                        <td class="feature-cell"><span class="fa fa-{{ level3 }} font-green"></span></td>
                                    </tr>
                                    {% endfor %}
                                    <tr>
                                        <td class="feature-desc"></td>
                                        <td class="feature-cell"><a href="#" class="btn feature-button1">Want!</a> </td>
                                        <td class="feature-cell"><a href="#" class="btn feature-button2">Want!</a> </td>
                                        <td class="feature-cell"><a href="#" class="btn feature-button3">Want!</a> </td>
                                    </tr>
                                </tbody>
                            </table>
                    </div>




			</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
{#                <button type="button" class="btn btn-primary">Save changes</button>#}
        </div>
    </div>
  </div>
</div>
<!-- End comparison table -->

{{ features }}


{% endblock %}
